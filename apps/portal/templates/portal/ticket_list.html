{% extends "portal/base_portal.html" %}
{% block title %}Tickets - Client Portal{% endblock %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3>Tickets</h3>
    <a class="btn btn-primary" href="{% url 'portal:ticket_create' %}">New Ticket</a>
  </div>

  {% if object_list %}
    <div class="list-group">
      {% for t in object_list %}
        <a class="list-group-item list-group-item-action"
           href="{% url 'portal:ticket_detail' t.id %}">
          <div class="d-flex justify-content-between">
            <strong>#{{ t.id }} — {{ t.subject }}</strong>
            <small>{{ t.get_status_display }} · {{ t.created_at|date:"Y-m-d H:i" }}</small>
          </div>
          <div><small>Priority: {{ t.get_priority_display }}</small></div>
        </a>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-muted">No tickets yet.</p>
  {% endif %}
{% endblock %}



